#! /usr/bin/env ruby

require_relative '../lib/game'
require_relative '../lib/game_looper'
require_relative '../lib/console'
require_relative '../lib/display'
require_relative '../lib/prompt'
require_relative '../lib/board'
require_relative '../lib/number_validator'
require_relative '../lib/outcome_checker'
require_relative '../lib/player'

console = Console.new(stdout: $stdout, stdin: $stdin)
board = Board.new
outcome_checker = OutcomeChecker.new(board:)
display = Display.new
number_validator = NumberValidator.new
prompt = Prompt.new(console:, number_validator:,
                    board:)
player_one = Player.new(marker: 'X')
player_two = Player.new(marker: 'O')
players = [player_one, player_two]
game_looper = GameLooper.new(console:, display:, prompt:, board:, players:, outcome_checker:)
game = Game.new(console:, game_looper:)
game.run
